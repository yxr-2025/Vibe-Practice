:root{
  --bg:#f6f7f9;
  --surface:#ffffff;
  --text:#101318;
  --muted:#6b7280;
  --border:#e6e8ee;
  --shadow:0 10px 30px rgba(16,19,24,.08);
  --radius:16px;
  --accent:#ff2442;
  --tabbar-height:64px;
  --content-max:420px;
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Inter,Helvetica,Arial,"PingFang SC","Hiragino Sans GB","Microsoft YaHei",sans-serif;
  color:var(--text);
  background:linear-gradient(180deg,#ffffff 0%, var(--bg) 60%);
}

a{color:inherit;text-decoration:none}
button,input,textarea{font:inherit}

.frame{
  max-width:var(--content-max);
  margin:0 auto;
  min-height:100vh;
  background:transparent;
}

.frame{
  width:100%;
}

@media (min-width: 520px){
  body{background:var(--bg)}
  .frame{
    width:390px;
    min-height:844px;
    margin:18px auto;
    border-radius:28px;
    border:1px solid var(--border);
    box-shadow:var(--shadow);
    overflow:hidden;
    background:linear-gradient(180deg,#ffffff 0%, var(--bg) 60%);
  }
}

.app{
  min-height:100vh;
  padding-top:env(safe-area-inset-top);
  padding-bottom:calc(env(safe-area-inset-bottom) + var(--tabbar-height));
}

.topbar{
  position:sticky;
  top:0;
  z-index:20;
  background:rgba(255,255,255,.92);
  backdrop-filter:saturate(180%) blur(18px);
  border-bottom:1px solid var(--border);
}
.topbar-inner{
  display:flex;
  align-items:center;
  gap:12px;
  padding:12px 14px;
}
.topbar-title{
  font-size:16px;
  font-weight:700;
  letter-spacing:.2px;
}
.topbar-spacer{flex:1}
.icon-btn{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  width:36px;
  height:36px;
  border-radius:12px;
  border:1px solid var(--border);
  background:var(--surface);
  box-shadow:0 1px 0 rgba(16,19,24,.03);
}
.icon{
  width:18px;
  height:18px;
  fill:none;
  stroke:currentColor;
  stroke-width:2;
  stroke-linecap:round;
  stroke-linejoin:round;
}

.pill{
  display:inline-flex;
  align-items:center;
  gap:8px;
  padding:10px 12px;
  border-radius:999px;
  border:1px solid var(--border);
  background:var(--surface);
  color:var(--muted);
}
.pill input{
  border:0;
  outline:0;
  width:100%;
  background:transparent;
  color:var(--text);
}

.content{padding:14px}

.card{
  background:var(--surface);
  border:1px solid var(--border);
  border-radius:var(--radius);
  box-shadow:0 1px 0 rgba(16,19,24,.03);
}
.card.pad{padding:14px}
.row{display:flex; align-items:center; gap:12px}
.row.between{justify-content:space-between}
.col{display:flex; flex-direction:column; gap:10px}
.muted{color:var(--muted)}
.small{font-size:12px}
.label{font-size:13px; color:var(--muted)}

.btn{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  gap:8px;
  padding:11px 12px;
  border-radius:14px;
  border:1px solid var(--border);
  background:var(--surface);
  font-weight:600;
}
.btn.primary{
  background:var(--accent);
  border-color:transparent;
  color:#fff;
}
.btn.block{width:100%}
.btn.ghost{
  border-color:transparent;
  background:rgba(16,19,24,.04);
}

.tabbar{
  position:fixed;
  left:50%;
  transform:translateX(-50%);
  bottom:0;
  width:min(100%, var(--content-max));
  height:var(--tabbar-height);
  padding-bottom:env(safe-area-inset-bottom);
  background:rgba(255,255,255,.92);
  backdrop-filter:saturate(180%) blur(18px);
  border-top:1px solid var(--border);
  z-index:30;
}
.tabbar-inner{
  height:var(--tabbar-height);
  display:grid;
  grid-template-columns:repeat(5,1fr);
  align-items:center;
  padding:8px 6px;
}
.tab{
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
  gap:4px;
  color:var(--muted);
  font-size:11px;
}
.tab .icon{width:20px;height:20px}
.tab.active{color:var(--text)}
.tab.publish{
  color:#fff;
  background:var(--accent);
  border-radius:16px;
  height:44px;
  margin:0 6px;
  font-weight:700;
}
.tab.publish .icon{stroke:#fff}

.segmented{
  display:flex;
  background:rgba(16,19,24,.05);
  border-radius:999px;
  padding:4px;
  gap:4px;
}
.segmented a{
  flex:1;
  text-align:center;
  padding:9px 10px;
  border-radius:999px;
  color:var(--muted);
  font-weight:700;
  font-size:13px;
}
.segmented a.active{
  background:var(--surface);
  color:var(--text);
  box-shadow:0 1px 0 rgba(16,19,24,.03);
}

.grid-2{
  display:grid;
  grid-template-columns:repeat(2,1fr);
  gap:10px;
}
.note{
  overflow:hidden;
}
.note-media{
  height:160px;
  border-bottom:1px solid var(--border);
  background:
    radial-gradient(120px 80px at 25% 20%, rgba(255,36,66,.18), transparent 60%),
    radial-gradient(140px 90px at 75% 70%, rgba(59,130,246,.18), transparent 60%),
    linear-gradient(180deg, rgba(16,19,24,.06), rgba(16,19,24,.02));
}
.note-body{padding:10px}
.note-title{
  font-size:13px;
  font-weight:700;
  line-height:1.2;
  display:-webkit-box;
  -webkit-line-clamp:2;
  -webkit-box-orient:vertical;
  overflow:hidden;
  min-height:32px;
}
.note-meta{
  display:flex;
  align-items:center;
  justify-content:space-between;
  margin-top:8px;
  color:var(--muted);
  font-size:12px;
}
.avatar{
  width:34px;
  height:34px;
  border-radius:999px;
  background:linear-gradient(135deg, rgba(255,36,66,.35), rgba(59,130,246,.25));
  border:1px solid rgba(16,19,24,.08);
}
.avatar.sm{width:28px;height:28px}

.state{
  padding:18px 14px;
}
.state-card{
  text-align:center;
  padding:22px 14px;
  border-radius:22px;
  border:1px dashed var(--border);
  background:rgba(255,255,255,.8);
}
.state-title{font-weight:800}
.state-hint{color:var(--muted); margin-top:6px; font-size:13px; line-height:1.4}
.skeleton{
  border-radius:12px;
  background:linear-gradient(90deg, rgba(16,19,24,.06), rgba(16,19,24,.02), rgba(16,19,24,.06));
  background-size:200% 100%;
  animation:shimmer 1.2s linear infinite;
}
@keyframes shimmer{
  0%{background-position:0% 0%}
  100%{background-position:200% 0%}
}
.sk-line{height:12px}
.sk-line.w60{width:60%}
.sk-line.w80{width:80%}
.sk-line.w40{width:40%}
.sk-box{height:120px}

.form{
  display:flex;
  flex-direction:column;
  gap:12px;
}
.field{
  display:flex;
  flex-direction:column;
  gap:8px;
}
.input, .textarea{
  border:1px solid var(--border);
  border-radius:14px;
  padding:12px 12px;
  background:var(--surface);
  outline:none;
}
.textarea{min-height:92px; resize:none}

.kbd{
  font-size:12px;
  padding:2px 8px;
  border:1px solid var(--border);
  border-bottom-width:2px;
  border-radius:999px;
  background:var(--surface);
  color:var(--muted);
}
